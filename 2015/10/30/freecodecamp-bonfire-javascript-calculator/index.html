<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <link href="http://gmpg.org/xfn/11" rel="profile">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
    
      freeCodeCamp Zipline: Javascript Calculator : seth.blog
    
  </title>

  <!-- meta info -->
  
  <meta name="description" content="Building a calculator with Javascript as part of the freecodecamp instructional course." />
  
  
  <meta name="keywords" content="seth dehaan, author, web design, development, video, games, jekyll, blog, atom" />
  
  <!-- CSS -->
  <link rel="stylesheet" href="/styles.css">

  <!-- fontawesome icons & open sans & jets -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/hover.min.css">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,800,700" rel="stylesheet" type="text/css">
  <script type="text/javascript" src="https://code.jquery.com/jquery-latest.min.js"></script>
  <script type="text/javascript" src="/jquery.fancybox.pack.js"></script>
  <link rel="stylesheet" type="text/css" href="/jquery.fancybox.min.css" media="screen" />
  <script src="/jets.min.js"></script>

  <!-- favicons -->
  <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
  <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="/manifest.json">
  <meta name="msapplication-TileColor" content="#000000">
  <meta name="msapplication-TileImage" content="/mstile-144x144.png">
  <meta name="theme-color" content="#333333">

  <!-- RSS -->
  <link rel="alternate" type="application/atom+xml" title="seth.blog" href="/atom.xml">

</head>


  <body>

    <header class="masthead">
      <div id="videoHeader">
        <video loop="loop" autoplay="autoplay" poster="/assets/night_sky.jpeg">
          <source src="/assets/stars.mp4" type="video/mp4">
        </video>
      </div>
      <div id="mastheadText">
        <h1 class="masthead-title">
          <a class="hvr-grow" href="/" title="Home">seth.blog</a>
        </h1>
        <nav id="nav">
          
            &nbsp;&nbsp;&nbsp;
            <a href="/about">About</a>
          
            &nbsp;&nbsp;&nbsp;
            <a href="/archive">Archive</a>
          
            &nbsp;&nbsp;&nbsp;
            <a href="/projects">Projects</a>
          
            &nbsp;&nbsp;&nbsp;
            <a href="/atom.xml">Feed</a>
          
        </nav>
      </div>
    </header>

    <div class="container content">

      <main>
        <article class="post">
  <ul class="index-data">
    <li><time datetime="2015-10-30T14:27:00-05:00" class="post-date">30 Oct 2015</time></li>
    <li> : <a href="/tags/#webdev">webdev</a>, <a href="/tags/#freecodecamp">freecodecamp</a></li>
  </ul>
  <h1 class="post-title">freeCodeCamp Zipline: Javascript Calculator</h1>

  <p>So I started going through <a href="http://www.freecodecamp.com">freeCodeCamp’s</a> online courses a few months ago, but my progress has been pretty stop-n-go. I blazed through all the basic HTML &amp; CSS courses, and all the beginner JavaScript &amp; jQuery was all stuff I’ve seen before too. Once you make it through those, freeCodeCamp throws these projects they call ‘ziplines’ at you, which are much more involved, full assignments without specific instructions.</p>

<p>The ones I’ve done so far have been challenging, and I went through them more than a month ago before I started this blog. So, coming back to freeCodeCamp, I thought it would help me to document my work and spell out my thought process on here.</p>

<p>The latest assignment I’ve worked on required me to build a calculator with Javascript. You can see <a href="http://codepen.io/sethxd/pen/YyLWdN">how my final calculator turned out on codepen</a>.</p>

<p>##Design</p>

<p>The first thing I did was build the structure of a calculator with Bootstrap button styling.</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="code"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-xs-3 btn btn-default reset"</span><span class="nt">&gt;</span>AC<span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-xs-3 btn btn-default reset"</span><span class="nt">&gt;</span>CE<span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-xs-3 btn btn-default"</span><span class="nt">&gt;</span>%<span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-xs-3 btn btn-default operator divide"</span><span class="nt">&gt;</span>/<span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-xs-3 btn btn-default number"</span><span class="nt">&gt;</span>7<span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-xs-3 btn btn-default number"</span><span class="nt">&gt;</span>8<span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-xs-3 btn btn-default number"</span><span class="nt">&gt;</span>9<span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-xs-3 btn btn-default operator multiply"</span><span class="nt">&gt;</span>X<span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span></pre></td></tr></tbody></table></code></pre></figure>

<p>I used classes to handle what clicking each button would do. I gave the class <code class="highlighter-rouge">number</code> to numbers and <code class="highlighter-rouge">operator</code> to operators, along with specific classes for each operation like <code class="highlighter-rouge">multiply</code>, <code class="highlighter-rouge">subtract</code>, etc, and an <code class="highlighter-rouge">equals</code> class on the equals button.</p>

<p>I placed a little screen above all the buttons and ended up with something that looks like this:</p>

<p><img src="\assets\javascript_calc.png" alt="javascript calculator" /></p>

<p>##Function</p>

<p>The design was the easy part. Making it functional was another story.</p>

<p>I ended up piling pretty much everything into one click function, because all my buttons have the <code class="highlighter-rouge">btn</code> class:</p>

<p><code class="highlighter-rouge">$('.btn').click(function() {}</code></p>

<p>First, I wanted to set up the reset buttons to totally clear all numbers and operations, so I set up an if statement to run the <code class="highlighter-rouge">reset()</code> function if the button has the <code class="highlighter-rouge">reset</code> class:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="code"><pre><span class="kd">var</span> <span class="nx">reset</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">currentTotal</span> <span class="o">=</span> <span class="s2">"0"</span><span class="p">;</span>
  <span class="nx">number1</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="nx">operator</span> <span class="o">=</span> <span class="s2">""</span><span class="p">;</span>
  <span class="nx">$</span><span class="p">(</span><span class="s2">"#screen"</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">currentTotal</span><span class="p">);</span>
<span class="p">}</span></pre></td></tr></tbody></table></code></pre></figure>

<p>My second if statement determines if the button clicked was a number:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="code"><pre><span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">hasClass</span><span class="p">(</span><span class="s1">'number'</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">currentTotal</span> <span class="o">!==</span> <span class="s2">"0"</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">temp</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">text</span><span class="p">();</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">temp</span><span class="p">);</span>
      <span class="nx">currentTotal</span> <span class="o">+=</span> <span class="nx">temp</span><span class="p">;</span>
      <span class="nx">$</span><span class="p">(</span><span class="s2">"#screen"</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">currentTotal</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">temp</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">text</span><span class="p">();</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">temp</span><span class="p">);</span>
      <span class="nx">currentTotal</span> <span class="o">=</span> <span class="nx">temp</span><span class="p">;</span>
      <span class="nx">$</span><span class="p">(</span><span class="s2">"#screen"</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">currentTotal</span><span class="p">);</span>
    <span class="p">}</span></pre></td></tr></tbody></table></code></pre></figure>

<p>If the button has the <code class="highlighter-rouge">number</code> class, I check to see if the current number displayed in the screen is 0. If it is, I replace 0 with the number clicked. This is to avoid having the number in the screen start with 0. If the current number in the screen <strong>isn’t</strong> 0, the number clicked is just added to the end of the current one.</p>

<p>If the button wasn’t a number, it’s got to be an operator. So my next if statement determines, if it’s an operator, which one it is:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="code"><pre><span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">hasClass</span><span class="p">(</span><span class="s1">'operator'</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">hasClass</span><span class="p">(</span><span class="s1">'divide'</span><span class="p">))</span> <span class="p">{</span>
      <span class="nx">number1</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">currentTotal</span><span class="p">);</span>
      <span class="nx">$</span><span class="p">(</span><span class="s2">"#screen"</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="s2">"0"</span><span class="p">);</span>
      <span class="nx">currentTotal</span> <span class="o">=</span> <span class="s2">"0"</span><span class="p">;</span>
      <span class="nx">operator</span> <span class="o">=</span> <span class="s2">"divide"</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">hasClass</span><span class="p">(</span><span class="s1">'multiply'</span><span class="p">))</span> <span class="p">{</span>
      <span class="nx">number1</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">currentTotal</span><span class="p">);</span>
      <span class="nx">$</span><span class="p">(</span><span class="s2">"#screen"</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="s2">"0"</span><span class="p">);</span>
      <span class="nx">currentTotal</span> <span class="o">=</span> <span class="s2">"0"</span><span class="p">;</span>
      <span class="nx">operator</span> <span class="o">=</span> <span class="s2">"multiply"</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">hasClass</span><span class="p">(</span><span class="s1">'add'</span><span class="p">))</span> <span class="p">{</span>
      <span class="nx">number1</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">currentTotal</span><span class="p">);</span>
      <span class="nx">$</span><span class="p">(</span><span class="s2">"#screen"</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="s2">"0"</span><span class="p">);</span>
      <span class="nx">currentTotal</span> <span class="o">=</span> <span class="s2">"0"</span><span class="p">;</span>
      <span class="nx">operator</span> <span class="o">=</span> <span class="s2">"add"</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">hasClass</span><span class="p">(</span><span class="s1">'subtract'</span><span class="p">))</span> <span class="p">{</span>
      <span class="nx">number1</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">currentTotal</span><span class="p">);</span>
      <span class="nx">$</span><span class="p">(</span><span class="s2">"#screen"</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="s2">"0"</span><span class="p">);</span>
      <span class="nx">currentTotal</span> <span class="o">=</span> <span class="s2">"0"</span><span class="p">;</span>
      <span class="nx">operator</span> <span class="o">=</span> <span class="s2">"subtract"</span><span class="p">;</span>
    <span class="p">}</span></pre></td></tr></tbody></table></code></pre></figure>

<p>When a user clicks one of these operator buttons, a few things happen:</p>

<ol>
  <li>A global variable, <code class="highlighter-rouge">operator</code>, receives one of four values: <code class="highlighter-rouge">divide, multiply, add, or subtract</code>.</li>
  <li>The <code class="highlighter-rouge">currentTotal</code> is transferred to another global variable, <code class="highlighter-rouge">number1</code>, and cleared.</li>
  <li>The screen is reset to display 0.</li>
</ol>

<p>After that, the user is free to input the second number of their operation. Once they do that, and press the equals button, <strong>magic happens</strong>.</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td><td class="code"><pre><span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">hasClass</span><span class="p">(</span><span class="s1">'equals'</span><span class="p">))</span> <span class="p">{</span>
      <span class="k">switch</span> <span class="p">(</span><span class="nx">operator</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="s2">"divide"</span><span class="p">:</span>
          <span class="nx">currentTotal</span> <span class="o">=</span> <span class="nx">number1</span> <span class="o">/</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">currentTotal</span><span class="p">);</span>
          <span class="nx">$</span><span class="p">(</span><span class="s2">"#screen"</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">currentTotal</span><span class="p">);</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="s2">"multiply"</span><span class="p">:</span>
          <span class="nx">currentTotal</span> <span class="o">=</span> <span class="nx">number1</span> <span class="o">*</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">currentTotal</span><span class="p">);</span>
          <span class="nx">$</span><span class="p">(</span><span class="s2">"#screen"</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">currentTotal</span><span class="p">);</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="s2">"add"</span><span class="p">:</span>
          <span class="nx">currentTotal</span> <span class="o">=</span> <span class="nx">number1</span> <span class="o">+</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">currentTotal</span><span class="p">);</span>
          <span class="nx">$</span><span class="p">(</span><span class="s2">"#screen"</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">currentTotal</span><span class="p">);</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="s2">"subtract"</span><span class="p">:</span>
          <span class="nx">currentTotal</span> <span class="o">=</span> <span class="nx">number1</span> <span class="o">-</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">currentTotal</span><span class="p">);</span>
          <span class="nx">$</span><span class="p">(</span><span class="s2">"#screen"</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">currentTotal</span><span class="p">);</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="nl">default</span><span class="p">:</span>
          <span class="nx">$</span><span class="p">(</span><span class="s2">"#screen"</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="s2">"#ERROR"</span><span class="p">);</span>
          <span class="nx">currentTotal</span> <span class="o">=</span> <span class="s2">"0"</span>
          <span class="k">break</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span></pre></td></tr></tbody></table></code></pre></figure>

<p>When the user hits the equals button, I bring in a JavaScript switch statement to look at the <code class="highlighter-rouge">operator</code> variable. If that variable is empty, meaning they didn’t click one of the operator buttons yet, it throws up an error. But if they did click an operator, the function takes the original number stored in <code class="highlighter-rouge">number</code> and performs the correct operation on that, along with the current number displayed in the screen (<code class="highlighter-rouge">currentTotal</code>).</p>

<p>Ta-da! This calculator meets the requirements for the freeCodeCamp assignment, but there’s a few other things I’d like to cleanup in the future.</p>

<p>For now, I’m going to move on to the next steps on the track so I don’t lose momentum.</p>

</article>

<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'sethxd';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

<br />

      </main>

      <footer class="footer">
        <div class="social">
          <a class="hvr-grow" target="_blank" href="http://www.github.com/sethxd"><i class="fa fa-github fa-2x fa-fw"></i></a>
          <a class="hvr-grow" target="_blank" href="http://twitter.com/sethdehaan"><i class="fa fa-twitter fa-2x fa-fw"></i></a>
          <a class="hvr-grow" href="mailto:seth.dehaan@gmail.com"><i class="fa fa-envelope-o fa-2x fa-fw"></i></a>
          <a class="hvr-grow" target="_blank" href="https://www.youtube.com/channel/UCZvJ3jMBROUbnybIQ5bsdvw"><i class="fa fa-youtube fa-2x fa-fw"></i></a>
        </div>
        <small>
          Seth DeHaan &copy; <span>2018</span>. All rights reserved.
        </small>
      </footer>
    </div>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-68510434-1', 'auto');
  ga('send', 'pageview');

</script>

    <script type"text/javascript" src="https://assets.gfycat.com/gfycat.js"></script>

    <script type="text/javascript">
	$(document).ready(function() {
		$(".fancybox").fancybox();
	});
</script>


  </body>
</html>
