---
date: "2015-11-12 13:05 -0500"
layout: post
desc: "A \"camper news\" page built with flexbox, CSS animation, and API calls for a freeCodeCamp challenge."
tags: webdev freecodecamp
published: true
title: "freecodecamp zipline: camper news"
---


My latest project for [freeCodeCamp](http://www.freecodecamp.com) is a stylized "camper news" page, using their latest news API to display recent stories and meet the following requirements:

- **User Story:** As a user, I can browse recent posts from Camper News.
- **User Story:** As a user, I can click on a post to be taken to the story's original URL.
- **Bonus User Story:** As a user, I can see how many upvotes each story has.

First off, I decided to use flex styling for the structure, which turned out really well. Here's my styling for the container and each of the news items:

{% highlight css linenos %}
.flex-container {
  display: inline-flex;
  width:100%;
  padding-top:10px;
  flex-wrap: wrap;
  justify-content: space-around;
}

.flex-item {
  width:200px;
  padding:0px;
  margin:10px;
  background: #fff;
  border-radius:5px;
  color: #8A62D3;
}
{% endhighlight %}

For this project, the HTML I set up is actually pretty barren. All you need to do is create the `flex-container`, and the actual content is generated by the JS.

The JS isn't particularly complicated either. Just use the `map` function on the array from the API call, and build a new `flex-item` from each object. Code with commenting below:

{% highlight js linenos %}
$(document).ready(function() {

  // The initial API call here, storing data in 'json'
  $.getJSON('http://www.freecodecamp.com/news/hot', function(json) {

	// Create a variable to store the HTML we'll be adding for each object
    var html= "";

	// Apply the following to each object
    json.map(function(obj) {

      // First add the flex-item container and the structure for CSS animation
      html += "<div class='flex-item'><div class='card'>";

      // Including the author's user image
      html += "<img width='200px' class='img-responsive' src='" + obj.author.picture + "'>";

      // This is what will show on hover: upvotes with heart icon & discuss button
      html += "<div class='caption'><span class='hearts'>" +
      obj.upVotes.length + "</span>&nbsp;&nbsp;<i class='fa fa-heart fa-2x'>
      </i><br><br><a target='_blank' href='http://www.freecodecamp.com/news/" +
      obj.storyLink + "'><button class='btn btn-default'>DISCUSS</button></a>
      </div></div>";

      // Convert the date to readable format and include it
      var date = new Date(obj.timePosted).toUTCString().slice(0, -13);
      html += "<span class='date'>posted " + date + "</span>";

      // Separate div for trimmed headline and author credit
      html += "<div class='metadata'>";
      var headline = obj.headline.substr(0, 23) + "...";

      html += "<span class='headline'>
      <a title='" + obj.headline + "' target='_blank' href='" +
      obj.link + "'>" + headline + "</a></span>";

      html += "<br><span class='author'>by: <a target='blank'
      href='https://www.freecodecamp.com/" + obj.author.username +
      "'>" + obj.author.username + "</a></span>";

      html += "</div></div>";

    });

    // Pop all the generated flex-items into the container
    $(".flex-container").html(html);

  });

})
{% endhighlight %}

I've been wanting to play around with CSS animations, so here I saw an opportunity for an easy trial: an animation to show upvotes and a link to the post's page when the user hovers over the item. `div.card` holds two elements: an image, and `div.caption`, which is hidden by default. `div.caption` is positioned absolutely with `opacity = 0`, so it is effectively hidden behind the image. When a user hovers over it, the opacity transitions to 1, and it appears over the image with a nice semi-transparent background so the image is still slightly visible.

This project was a lot of fun to put together, and the next few assignments also deal with APIs, so I'm looking forward to digging into them too. Check out the codepen for this project and see my full work below!

<p data-height="500" data-theme-id="0" data-slug-hash="vNQPdr" data-default-tab="result" data-user="sethxd" data-preview="true" class='codepen'>See the Pen <a href='http://codepen.io/sethxd/pen/vNQPdr/'>freeCodeCamp prettyNews</a> by seth dehaan (<a href='http://codepen.io/sethxd'>@sethxd</a>) on <a href='http://codepen.io'>CodePen</a>.</p>
<script src="//assets.codepen.io/assets/embed/ei.js"> </script>
